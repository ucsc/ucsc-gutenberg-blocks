!function(){"use strict";var e=window.wp.element,t=window.wp.components,a=a=>{let{department:l,setAttributes:r,label:n,disabled:s=!1}=a;const[i,o]=(0,e.useState)([]);let c,u;return void 0===l?([c,u]=(0,e.useState)("---"),r({department:"---"})):[c,u]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/departmentcode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:n,value:l,options:i,onChange:e=>{r({department:e}),u(e)},disabled:s}),!i.length&&(0,e.createElement)("span",null,"Subject Dropdown Loading...")))},l=a=>{let{subject:l,setAttributes:r,label:n,disabled:s=!1}=a;const[i,o]=(0,e.useState)([]);let c,u;return void 0===l?([c,u]=(0,e.useState)("---"),r({subject:"---"})):[c,u]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/subjectcode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:n,value:l,options:i,onChange:e=>{r({subject:e}),u(e)},disabled:s}),!i.length&&(0,e.createElement)("span",null,"Subject Dropdown Loading...")))},r=a=>{let{department:l,setAttributes:r,label:n,disabled:s=!1}=a;const[i,o]=(0,e.useState)([]);let c,u;return void 0===l?([c,u]=(0,e.useState)("---"),r({department:"---"})):[c,u]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/cddepartmentcode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:n,value:l,options:i,onChange:e=>{r({department:e}),u(e)},disabled:s}),!i.length&&(0,e.createElement)("span",null,"Department Dropdown Loading...")))},n=a=>{let{division:l,setAttributes:r,label:n,disabled:s=!1}=a;const[i,o]=(0,e.useState)([]);let c,u;return void 0===l?([c,u]=(0,e.useState)("---"),r({division:"---"})):[c,u]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/divisioncode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:n,value:l,options:i,onChange:e=>{r({division:e}),u(e)},disabled:s}),!i.length&&(0,e.createElement)("span",null,"Divisions Dropdown Loading...")))},s=a=>{let l,r,{pageLayout:n,setAttributes:s}=a;return void 0===n?([l,r]=(0,e.useState)("list"),s({pageLayout:"list"})):[l,r]=(0,e.useState)(n),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{r(e),s({pageLayout:e})},options:[{label:"List Layout",value:"list"},{label:"Tiled Layout",value:"tiled"},{label:"Table Layout",value:"table"}]}))},i=a=>{let{setAttributes:l,currentAttributes:r,arrOfLabels:n,flexCheckboxes:s,attributeStr:i,checkedByDefault:o}=a;const c=[];if(n.map((e=>c.push({label:e}))),void 0===r){const e={};n.map((t=>{e[t]=void 0!==o&&o.includes(t)}));const t={};t[i]=JSON.stringify(e),l(t)}return c.map((t=>{if(void 0===r)t.arrCheckedState=void 0===o?(0,e.useState)(!1):(0,e.useState)(o.includes(t.label));else{const a=JSON.parse(r);t.arrCheckedState=(0,e.useState)(a[t.label])}})),(0,e.createElement)("div",{className:s?"flex-checkboxes":""},c.map((a=>(0,e.createElement)(t.CheckboxControl,{label:a.label,checked:a.arrCheckedState[0],onChange:e=>{a.arrCheckedState[1](e);const t=JSON.parse(r);t[a.label]=e;const n={};n[i]=JSON.stringify(t),l(n)}}))))},o=t=>{let{setAttributes:a,strFacultyTypes:l,strStaffTypes:r,strGradTypes:n}=t;return(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)("h5",null,"Faculty Types"),(0,e.createElement)(i,{setAttributes:a,currentAttributes:l,arrOfLabels:["All","Regular Faculty","Lecturer","Emeriti","Research Professor","Researcher","Adjunct Faculty","Visiting Scholar","Graduate Student Instructor","Retired"],attributeStr:"strFacultyTypes"}),(0,e.createElement)("h5",null,"Staff Types"),(0,e.createElement)(i,{setAttributes:a,currentAttributes:r,arrOfLabels:["Regular Staff","Researcher","Postdoctoral Scholar"],attributeStr:"strStaffTypes",flexCheckboxes:!0}),(0,e.createElement)("h5",null,"Graduate Students"),(0,e.createElement)(i,{setAttributes:a,currentAttributes:n,arrOfLabels:["Grad Students"],attributeStr:"strGradTypes"}))},c=a=>{let l,r,n,s,{setAttributes:o,linkToProfile:c,linkOutToCampusDirectory:u,strInformationTypes:d,pageLayout:m}=a;return void 0===c?([l,r]=(0,e.useState)(!0),o({linkToProfile:!0})):[l,r]=(0,e.useState)(c),void 0===u?([n,s]=(0,e.useState)(!1),o({linkOutToCampusDirectory:!1})):[n,s]=(0,e.useState)(u),(0,e.createElement)("div",null,(0,e.createElement)("hr",null),(0,e.createElement)("h5",null,"Link Name to Individual Profile?"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"In a small number of cases, units do not want a person's name to link to a more detailed profile page.")),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{r("true"===e),o({linkToProfile:"true"===e})},options:[{label:"Yes",value:!0},{label:"No",value:!1}]})),(0,e.createElement)("div",{style:{paddingTop:"10px"},className:"flex-labels"},(0,e.createElement)(t.CheckboxControl,{label:"Link to campusdirectory.ucsc.edu",checked:n,onChange:e=>{s(e),o({linkOutToCampusDirectory:e})},disabled:!l})),(0,e.createElement)("hr",null),(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)("h5",null,"list"===m?"List":"Tiled"," Layout Information to Display"),(0,e.createElement)(i,{setAttributes:o,currentAttributes:d,arrOfLabels:["Pronouns","Photo","Title","Department","Phone","Campus Email","Other Email","Fax","Website","Office Location","Office Hours","Mailstop","Mailing Address","Faculty Areas of Expertise","Summary of Expertise"],attributeStr:"strInformationTypes",checkedByDefault:["Photo","Title","Department","Phone","Campus Email","Website","Office Location","Office Hours"]})))},u=a=>{let l,r,n,s,{setAttributes:o,linkToProfile:c,linkOutToCampusDirectory:u,strInformationTypesTable:d}=a;return void 0===c?([l,r]=(0,e.useState)(!0),o({linkToProfile:!0})):[l,r]=(0,e.useState)(c),void 0===u?([n,s]=(0,e.useState)(!1),o({linkOutToCampusDirectory:!1})):[n,s]=(0,e.useState)(u),(0,e.createElement)("div",null,(0,e.createElement)("hr",null),(0,e.createElement)("h5",null,"Link Name to Individual Profile?"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"In a small number of cases, units do not want a person's name to link to a more detailed profile page.")),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{r("true"===e),o({linkToProfile:"true"===e})},options:[{label:"Yes",value:!0},{label:"No",value:!1}]})),(0,e.createElement)("div",{style:{paddingTop:"10px"},className:"flex-labels"},(0,e.createElement)(t.CheckboxControl,{label:"Link to campusdirectory.ucsc.edu",checked:n,onChange:e=>{s(e),o({linkOutToCampusDirectory:e})},disabled:!l})),(0,e.createElement)("hr",null),(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)("h5",null,"Table Layout Information to Display"),(0,e.createElement)(i,{setAttributes:o,currentAttributes:d,arrOfLabels:["Pronouns","Title","Department","Phone","Campus Email","Other Email","Fax","Website","Office Location","Office Hours","Mailstop","Mailing Address","Faculty Areas of Expertise","Summary of Expertise"],attributeStr:"strInformationTypesTable",checkedByDefault:["Title","Department","Phone","Campus Email"]})))},d=a=>{let l,s,i,d,m,p,b,y,E,h,f,g,v,C,{setAttributes:S,automatedFeeds:T,cruzidList:k,strFacultyTypes:D,strStaffTypes:A,strGradTypes:O,manualAdd:x,addCruzids:L,excludeCruzids:w,displayDeptartmentAffiliates:P,linkToProfile:j,linkOutToCampusDirectory:I,strInformationTypes:F,strInformationTypesTable:N,pageLayout:z,division:B,department:R,deptOrDiv:_}=a;return void 0===T?([l,s]=(0,e.useState)(!0),S({automatedFeeds:!0})):[l,s]=(0,e.useState)(T),void 0===x?([i,d]=(0,e.useState)(!1),S({manualAdd:!1})):[i,d]=(0,e.useState)(x),void 0===k?([m,p]=(0,e.useState)(""),S({cruzidList:""})):[m,p]=(0,e.useState)(k),void 0===L?([b,y]=(0,e.useState)(""),S({addCruzids:""})):[b,y]=(0,e.useState)(L),void 0===w?([E,h]=(0,e.useState)(""),S({excludeCruzids:""})):[E,h]=(0,e.useState)(w),void 0===P?([f,g]=(0,e.useState)(!1),S({displayDeptartmentAffiliates:!1})):[f,g]=(0,e.useState)(P),void 0===_?([v,C]=(0,e.useState)("dept"),S({deptOrDiv:"dept"})):[v,C]=(0,e.useState)(_),(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{s("true"===e),S({automatedFeeds:"true"===e})},options:[{label:"Use Automated Feed(s)",value:!0},{label:"Create My Own List of People to Display",value:!1}]})),!l&&(0,e.createElement)("div",null,(0,e.createElement)("h5",null,"List Individuals (Enter CruzIDs separated by commas)"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"List individuals in the order you'd like them to appear on the page.")),(0,e.createElement)(t.TextareaControl,{value:m,onChange:e=>{p(e),S({cruzidList:e})}})),l&&(0,e.createElement)("div",null,(0,e.createElement)("h5",null,"Set Department or Division"),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:_,options:[{label:"Department",value:"dept"},{label:"Division",value:"div"}],onChange:e=>{S({deptOrDiv:e}),C(e)}}),(0,e.createElement)("hr",null),(0,e.createElement)(r,{label:"Department",department:R,setAttributes:S,disabled:!("dept"===_)}),(0,e.createElement)(n,{label:"Division",division:B,setAttributes:S,disabled:!("div"===_)})),(0,e.createElement)(o,{setAttributes:S,strFacultyTypes:D,strStaffTypes:A,strGradTypes:O}),(0,e.createElement)("h5",null,"Manually Add or Exclude Individuals from the feed?"),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:i,onChange:e=>{d("true"===e),S({manualAdd:"true"===e})},options:[{label:"Yes",value:!0},{label:"No",value:!1}]})),i&&(0,e.createElement)("div",null,(0,e.createElement)("h5",null,"Add Individuals to the Feed. (Enter CruzIDs separated by commas)"),(0,e.createElement)(t.TextareaControl,{value:b,onChange:e=>{y(e),S({addCruzids:e})}}),(0,e.createElement)("h5",null,"Exclude Individuals from the Feed. (Enter CruzIDs separated by commas)"),(0,e.createElement)(t.TextareaControl,{value:E,onChange:e=>{h(e),S({excludeCruzids:e})}})),"dept"===_&&(0,e.createElement)("div",null,(0,e.createElement)("hr",null),(0,e.createElement)("h5",null,"Display Department Affiliates? (Rare for administrative units.)"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"For example, a faculty member is officially associated with the History Department but is also affiliated with College Nine because they teach a College Nine Core Course.")),(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)(t.CheckboxControl,{label:"Display Affiliates",checked:f,onChange:e=>{g(e),S({displayDeptartmentAffiliates:e})}})))),"table"!==z?(0,e.createElement)(c,{setAttributes:S,linkToProfile:j,linkOutToCampusDirectory:I,strInformationTypes:F,pageLayout:z}):(0,e.createElement)(u,{setAttributes:S,linkToProfile:j,linkOutToCampusDirectory:I,strInformationTypesTable:N}))},m=window.wp.blockEditor;wp.blocks.registerBlockType("ucscblocks/coursecatalog",{title:"Course Catalog",icon:"book-alt",category:"common",attributes:{subjectOrDept:{type:"string"},department:{type:"string"},subject:{type:"string"}},edit:r=>{let{setAttributes:n,attributes:s}=r;const{department:i,subject:o,subjectOrDept:c}=s;let u,d;return void 0===c?([u,d]=(0,e.useState)("dept"),n({subjectOrDept:"dept"})):[u,d]=(0,e.useState)(c),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.Panel,{header:"Course Catalog Block"},(0,e.createElement)(t.PanelBody,{title:"Set Department or Subject",initialOpen:!0},(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:u,onChange:e=>{d(e),n({subjectOrDept:e})},options:[{label:"Department",value:"dept"},{label:"Subject",value:"subject"}]})),(0,e.createElement)("hr",null),(0,e.createElement)(a,{label:"Departments",department:i,setAttributes:n,disabled:"dept"!==c}),(0,e.createElement)(l,{label:"Subjects",subject:o,setAttributes:n,disabled:"subject"!==c}))))},save:e=>null}),wp.blocks.registerBlockType("ucscblocks/campusdirectory",{title:"Campus Directory",icon:"welcome-learn-more",category:"common",attributes:{pageLayout:{type:"string"},automatedFeeds:{type:"boolean"},cruzidList:{type:"string"},strFacultyTypes:{type:"string"},strStaffTypes:{type:"string"},strGradTypes:{type:"string"},manualAdd:{type:"boolean"},addCruzids:{type:"string"},excludeCruzids:{type:"string"},displayDeptartmentAffiliates:{type:"boolean"},linkToProfile:{type:"boolean"},linkOutToCampusDirectory:{type:"boolean"},strInformationTypes:{type:"string"},strInformationTypesTable:{type:"string"},department:{type:"string"},division:{type:"string"},deptOrDiv:{type:"string"}},edit:a=>{let{setAttributes:l,attributes:r}=a;const{pageLayout:n,automatedFeeds:i,cruzidList:o,strFacultyTypes:c,strStaffTypes:u,strGradTypes:m,manualAdd:p,addCruzids:b,excludeCruzids:y,displayDeptartmentAffiliates:E,linkToProfile:h,linkOutToCampusDirectory:f,strInformationTypes:g,strInformationTypesTable:v,department:C,division:S,deptOrDiv:T}=r,[k,D]=(0,e.useState)(!0),[A,O]=(0,e.useState)({});return(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/campusdirectoryrequirements").then((e=>e.text())).then((e=>{const t=JSON.parse(e);t.ldap_pass||D(!1),O(t)}))}),[]),(0,e.createElement)(e.Fragment,null,k&&(0,e.createElement)(t.Panel,{className:"directory-block",header:"Directory Block"},(0,e.createElement)(t.PanelBody,{title:"Layout Type",initialOpen:!0},(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(s,{setAttributes:l,pageLayout:n}))),(0,e.createElement)(t.PanelBody,{title:"People and Information to Display",initialOpen:!0},(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(d,{setAttributes:l,automatedFeeds:i,cruzidList:o,strFacultyTypes:c,strStaffTypes:u,strGradTypes:m,manualAdd:p,addCruzids:b,excludeCruzids:y,displayDeptartmentAffiliates:E,linkToProfile:h,linkOutToCampusDirectory:f,strInformationTypes:g,strInformationTypesTable:v,pageLayout:n,division:S,department:C,deptOrDiv:T})))),!k&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h2",null,"This Block is not Configured Correctly"),!A.ldap_pass&&A.multisite&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h4",null,"The LDAP password can be set at the network level"," ",(0,e.createElement)("a",{target:"_blank",href:"/wp-admin/network/settings.php?page=ucsc-gutenberg-blocks-network-settings"},"here.")),(0,e.createElement)("h6",null,"Or the LDAP password can be set at the site level below.")),!A.ldap_pass&&(0,e.createElement)("h4",null,"The LDAP password needs to be set here"," ",(0,e.createElement)("a",{target:"_blank",href:"/wp-admin/options-general.php?page=ucsc_gutenberg_blocks_settings_page"},"here."))))},save:e=>null}),wp.blocks.registerBlockType("ucscblocks/classschedule",{title:"Class Schedule",icon:"schedule",category:"common",attributes:{subjectOrDept:{type:"string"},department:{type:"string"},subject:{type:"string"}},edit:r=>{let{setAttributes:n,attributes:s}=r;const{department:i,subject:o,subjectOrDept:c}=s;let u,d;return void 0===c?([u,d]=(0,e.useState)("dept"),n({subjectOrDept:"dept"})):[u,d]=(0,e.useState)(c),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.Panel,{header:"Class Schedule Block"},(0,e.createElement)(t.PanelBody,{title:"Set Department or Subject",initialOpen:!0},(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:u,onChange:e=>{d(e),n({subjectOrDept:e})},options:[{label:"Department",value:"dept"},{label:"Subject",value:"subject"}]})),(0,e.createElement)("hr",null),(0,e.createElement)(a,{label:"Departments",department:i,setAttributes:n,disabled:"dept"!==c}),(0,e.createElement)(l,{label:"Subjects",subject:o,setAttributes:n,disabled:"subject"!==c}))))},save:e=>null}),wp.blocks.registerBlockType("ucscblocks/accordion",{title:"Accordion",icon:"menu",category:"common",attributes:{openOnPageLoad:{type:"boolean"},title:{type:"string"}},edit:a=>{let{setAttributes:l,attributes:r}=a;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(m.InspectorControls,{key:"setting"},(0,e.createElement)(t.Panel,null,(0,e.createElement)(t.PanelBody,null,(0,e.createElement)(t.CheckboxControl,{label:"Open on page load",checked:r.openOnPageLoad,onChange:e=>l({openOnPageLoad:e})})))),(0,e.createElement)("details",{className:"ucsc-accordion",open:"true"},(0,e.createElement)("summary",null,(0,e.createElement)("input",{placeholder:"Accordion Item Title",value:r.title,onKeyUp:e=>{e.preventDefault()},onChange:e=>l({title:e.target.value}),style:{width:"100%"}})),(0,e.createElement)(m.InnerBlocks,null)))},save:()=>(0,e.createElement)("div",null,(0,e.createElement)(m.InnerBlocks.Content,null))}),wp.blocks.registerBlockType("ucscblocks/accordion-wrapper",{title:"Accordion Wrapper",icon:"button",category:"common",attributes:{},edit:t=>{let{setAttributes:a,attributes:l}=t;return(0,e.createElement)("div",{style:{padding:"0 25px 25px 25px",border:"1px solid"}},(0,e.createElement)("p",{style:{paddingTop:"5px",marginTop:"0px",fontSize:"14px"}},"Accordion Wrapper"),(0,e.createElement)(m.InnerBlocks,null))},save:()=>(0,e.createElement)("div",null,(0,e.createElement)(m.InnerBlocks.Content,null))})}();