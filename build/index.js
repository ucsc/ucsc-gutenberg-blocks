!function(){"use strict";var e=window.wp.element,t=window.wp.components,a=a=>{let{department:l,setAttributes:r,label:s,disabled:n=!1}=a;const[i,o]=(0,e.useState)([]);let u,c;return void 0===l?([u,c]=(0,e.useState)("---"),r({department:"---"})):[u,c]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/departmentcode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:s,value:l,options:i,onChange:e=>{r({department:e}),c(e)},disabled:n}),!i.length&&(0,e.createElement)("span",null,"Subject Dropdown Loading...")))},l=a=>{let{subject:l,setAttributes:r,label:s,disabled:n=!1}=a;const[i,o]=(0,e.useState)([]);let u,c;return void 0===l?([u,c]=(0,e.useState)("---"),r({subject:"---"})):[u,c]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/subjectcode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:s,value:l,options:i,onChange:e=>{r({subject:e}),c(e)},disabled:n}),!i.length&&(0,e.createElement)("span",null,"Subject Dropdown Loading...")))},r=a=>{let{department:l,setAttributes:r,label:s,disabled:n=!1}=a;const[i,o]=(0,e.useState)([]);let u,c;return void 0===l?([u,c]=(0,e.useState)("---"),r({department:"---"})):[u,c]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/cddepartmentcode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:s,value:l,options:i,onChange:e=>{r({department:e}),c(e)},disabled:n}),!i.length&&(0,e.createElement)("span",null,"Department Dropdown Loading...")))},s=a=>{let{division:l,setAttributes:r,label:s,disabled:n=!1}=a;const[i,o]=(0,e.useState)([]);let u,c;return void 0===l?([u,c]=(0,e.useState)("---"),r({division:"---"})):[u,c]=(0,e.useState)(l),(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/divisioncode").then((e=>e.text())).then((e=>{const t=JSON.parse(e);o(t)}))}),[]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{style:{width:"max-content"}},i.length>0&&(0,e.createElement)(t.SelectControl,{label:s,value:l,options:i,onChange:e=>{r({division:e}),c(e)},disabled:n}),!i.length&&(0,e.createElement)("span",null,"Divisions Dropdown Loading...")))},n=a=>{let l,r,{pageLayout:s,setAttributes:n}=a;return void 0===s?([l,r]=(0,e.useState)("list"),n({pageLayout:"list"})):[l,r]=(0,e.useState)(s),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{r(e),n({pageLayout:e})},options:[{label:"List Layout",value:"list"},{label:"Tiled Layout",value:"tiled"},{label:"Table Layout",value:"table"}]}))},i=a=>{let{setAttributes:l,currentAttributes:r,arrOfLabels:s,flexCheckboxes:n,attributeStr:i,checkedByDefault:o}=a;const u=[];if(s.map((e=>u.push({label:e}))),void 0===r){const e={};s.map((t=>{e[t]=void 0!==o&&o.includes(t)}));const t={};t[i]=JSON.stringify(e),l(t)}return u.map((t=>{if(void 0===r)t.arrCheckedState=void 0===o?(0,e.useState)(!1):(0,e.useState)(o.includes(t.label));else{const a=JSON.parse(r);t.arrCheckedState=(0,e.useState)(a[t.label])}})),(0,e.createElement)("div",{className:n?"flex-checkboxes":""},u.map((a=>(0,e.createElement)(t.CheckboxControl,{label:a.label,checked:a.arrCheckedState[0],onChange:e=>{a.arrCheckedState[1](e);const t=JSON.parse(r);t[a.label]=e;const s={};s[i]=JSON.stringify(t),l(s)}}))))},o=t=>{let{setAttributes:a,strFacultyTypes:l,strStaffTypes:r,strGradTypes:s}=t;return(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)("h5",null,"Faculty Types"),(0,e.createElement)(i,{setAttributes:a,currentAttributes:l,arrOfLabels:["All","Regular Faculty","Lecturer","Emeriti","Research Professor","Researcher","Adjunct Faculty","Visiting Scholar","Graduate Student Instructor","Retired"],attributeStr:"strFacultyTypes"}),(0,e.createElement)("h5",null,"Staff Types"),(0,e.createElement)(i,{setAttributes:a,currentAttributes:r,arrOfLabels:["Regular Staff","Researcher","Postdoctoral Scholar"],attributeStr:"strStaffTypes",flexCheckboxes:!0}),(0,e.createElement)("h5",null,"Graduate Students"),(0,e.createElement)(i,{setAttributes:a,currentAttributes:s,arrOfLabels:["Grad Students"],attributeStr:"strGradTypes"}))},u=a=>{let l,r,s,n,{setAttributes:o,linkToProfile:u,linkOutToCampusDirectory:c,strInformationTypes:d,pageLayout:m}=a;return void 0===u?([l,r]=(0,e.useState)(!0),o({linkToProfile:!0})):[l,r]=(0,e.useState)(u),void 0===c?([s,n]=(0,e.useState)(!1),o({linkOutToCampusDirectory:!1})):[s,n]=(0,e.useState)(c),(0,e.createElement)("div",null,(0,e.createElement)("hr",null),(0,e.createElement)("h5",null,"Link Name to Individual Profile?"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"In a small number of cases, units do not want a person's name to link to a more detailed profile page.")),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{r("true"===e),o({linkToProfile:"true"===e})},options:[{label:"Yes",value:!0},{label:"No",value:!1}]})),(0,e.createElement)("div",{style:{paddingTop:"10px"},className:"flex-labels"},(0,e.createElement)(t.CheckboxControl,{label:"Link to campusdirectory.ucsc.edu",checked:s,onChange:e=>{n(e),o({linkOutToCampusDirectory:e})},disabled:!l})),(0,e.createElement)("hr",null),(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)("h5",null,"list"===m?"List":"Tiled"," Layout Information to Display"),(0,e.createElement)(i,{setAttributes:o,currentAttributes:d,arrOfLabels:["Pronouns","Photo","Title","Department","Phone","Campus Email","Other Email","Fax","Website","Office Location","Office Hours","Mailstop","Mailing Address","Faculty Areas of Expertise","Summary of Expertise"],attributeStr:"strInformationTypes",checkedByDefault:["Photo","Title","Department","Phone","Campus Email","Website","Office Location","Office Hours"]})))},c=a=>{let l,r,s,n,{setAttributes:o,linkToProfile:u,linkOutToCampusDirectory:c,strInformationTypesTable:d}=a;return void 0===u?([l,r]=(0,e.useState)(!0),o({linkToProfile:!0})):[l,r]=(0,e.useState)(u),void 0===c?([s,n]=(0,e.useState)(!1),o({linkOutToCampusDirectory:!1})):[s,n]=(0,e.useState)(c),(0,e.createElement)("div",null,(0,e.createElement)("hr",null),(0,e.createElement)("h5",null,"Link Name to Individual Profile?"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"In a small number of cases, units do not want a person's name to link to a more detailed profile page.")),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{r("true"===e),o({linkToProfile:"true"===e})},options:[{label:"Yes",value:!0},{label:"No",value:!1}]})),(0,e.createElement)("div",{style:{paddingTop:"10px"},className:"flex-labels"},(0,e.createElement)(t.CheckboxControl,{label:"Link to campusdirectory.ucsc.edu",checked:s,onChange:e=>{n(e),o({linkOutToCampusDirectory:e})},disabled:!l})),(0,e.createElement)("hr",null),(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)("h5",null,"Table Layout Information to Display"),(0,e.createElement)(i,{setAttributes:o,currentAttributes:d,arrOfLabels:["Pronouns","Title","Department","Phone","Campus Email","Other Email","Fax","Website","Office Location","Office Hours","Mailstop","Mailing Address","Faculty Areas of Expertise","Summary of Expertise"],attributeStr:"strInformationTypesTable",checkedByDefault:["Title","Department","Phone","Campus Email"]})))},d=a=>{let l,n,i,d,m,p,b,y,E,f,h,v,g,S,{setAttributes:C,automatedFeeds:T,cruzidList:k,strFacultyTypes:D,strStaffTypes:A,strGradTypes:O,manualAdd:L,addCruzids:x,excludeCruzids:w,displayDeptartmentAffiliates:P,linkToProfile:j,linkOutToCampusDirectory:F,strInformationTypes:N,strInformationTypesTable:I,pageLayout:z,division:R,department:_,deptOrDiv:B}=a;return void 0===T?([l,n]=(0,e.useState)(!0),C({automatedFeeds:!0})):[l,n]=(0,e.useState)(T),void 0===L?([i,d]=(0,e.useState)(!1),C({manualAdd:!1})):[i,d]=(0,e.useState)(L),void 0===k?([m,p]=(0,e.useState)(""),C({cruzidList:""})):[m,p]=(0,e.useState)(k),void 0===x?([b,y]=(0,e.useState)(""),C({addCruzids:""})):[b,y]=(0,e.useState)(x),void 0===w?([E,f]=(0,e.useState)(""),C({excludeCruzids:""})):[E,f]=(0,e.useState)(w),void 0===P?([h,v]=(0,e.useState)(!1),C({displayDeptartmentAffiliates:!1})):[h,v]=(0,e.useState)(P),void 0===B?([g,S]=(0,e.useState)("dept"),C({deptOrDiv:"dept"})):[g,S]=(0,e.useState)(B),(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:l,onChange:e=>{n("true"===e),C({automatedFeeds:"true"===e})},options:[{label:"Use Automated Feed(s)",value:!0},{label:"Create My Own List of People to Display",value:!1}]})),!l&&(0,e.createElement)("div",null,(0,e.createElement)("h5",null,"List Individuals (Enter CruzIDs separated by commas)"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"List individuals in the order you'd like them to appear on the page.")),(0,e.createElement)(t.TextareaControl,{value:m,onChange:e=>{p(e),C({cruzidList:e})}})),l&&(0,e.createElement)("div",null,(0,e.createElement)("h5",null,"Set Department or Division"),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:B,options:[{label:"Department",value:"dept"},{label:"Division",value:"div"}],onChange:e=>{C({deptOrDiv:e}),S(e)}}),(0,e.createElement)("hr",null),(0,e.createElement)(r,{label:"Department",department:_,setAttributes:C,disabled:!("dept"===B)}),(0,e.createElement)(s,{label:"Division",division:R,setAttributes:C,disabled:!("div"===B)})),(0,e.createElement)(o,{setAttributes:C,strFacultyTypes:D,strStaffTypes:A,strGradTypes:O}),(0,e.createElement)("h5",null,"Manually Add or Exclude Individuals from the feed?"),(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:i,onChange:e=>{d("true"===e),C({manualAdd:"true"===e})},options:[{label:"Yes",value:!0},{label:"No",value:!1}]})),i&&(0,e.createElement)("div",null,(0,e.createElement)("h5",null,"Add Individuals to the Feed. (Enter CruzIDs separated by commas)"),(0,e.createElement)(t.TextareaControl,{value:b,onChange:e=>{y(e),C({addCruzids:e})}}),(0,e.createElement)("h5",null,"Exclude Individuals from the Feed. (Enter CruzIDs separated by commas)"),(0,e.createElement)(t.TextareaControl,{value:E,onChange:e=>{f(e),C({excludeCruzids:e})}})),"dept"===B&&(0,e.createElement)("div",null,(0,e.createElement)("hr",null),(0,e.createElement)("h5",null,"Display Department Affiliates? (Rare for administrative units.)"),(0,e.createElement)("p",null,(0,e.createElement)("i",null,"For example, a faculty member is officially associated with the History Department but is also affiliated with College Nine because they teach a College Nine Core Course.")),(0,e.createElement)("div",{className:"flex-labels"},(0,e.createElement)(t.CheckboxControl,{label:"Display Affiliates",checked:h,onChange:e=>{v(e),C({displayDeptartmentAffiliates:e})}})))),"table"!==z?(0,e.createElement)(u,{setAttributes:C,linkToProfile:j,linkOutToCampusDirectory:F,strInformationTypes:N,pageLayout:z}):(0,e.createElement)(c,{setAttributes:C,linkToProfile:j,linkOutToCampusDirectory:F,strInformationTypesTable:I}))};wp.blocks.registerBlockType("ucscblocks/coursecatalog",{title:"Course Catalog",icon:"book-alt",category:"common",attributes:{subjectOrDept:{type:"string"},department:{type:"string"},subject:{type:"string"}},edit:r=>{let{setAttributes:s,attributes:n}=r;const{department:i,subject:o,subjectOrDept:u}=n;let c,d;return void 0===u?([c,d]=(0,e.useState)("dept"),s({subjectOrDept:"dept"})):[c,d]=(0,e.useState)(u),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.Panel,{header:"Course Catalog Block"},(0,e.createElement)(t.PanelBody,{title:"Set Department or Subject",initialOpen:!0},(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:c,onChange:e=>{d(e),s({subjectOrDept:e})},options:[{label:"Department",value:"dept"},{label:"Subject",value:"subject"}]})),(0,e.createElement)("hr",null),(0,e.createElement)(a,{label:"Departments",department:i,setAttributes:s,disabled:"dept"!==u}),(0,e.createElement)(l,{label:"Subjects",subject:o,setAttributes:s,disabled:"subject"!==u}))))},save:e=>null}),wp.blocks.registerBlockType("ucscblocks/campusdirectory",{title:"Campus Directory",icon:"welcome-learn-more",category:"common",attributes:{pageLayout:{type:"string"},automatedFeeds:{type:"boolean"},cruzidList:{type:"string"},strFacultyTypes:{type:"string"},strStaffTypes:{type:"string"},strGradTypes:{type:"string"},manualAdd:{type:"boolean"},addCruzids:{type:"string"},excludeCruzids:{type:"string"},displayDeptartmentAffiliates:{type:"boolean"},linkToProfile:{type:"boolean"},linkOutToCampusDirectory:{type:"boolean"},strInformationTypes:{type:"string"},strInformationTypesTable:{type:"string"},department:{type:"string"},division:{type:"string"},deptOrDiv:{type:"string"}},edit:a=>{let{setAttributes:l,attributes:r}=a;const{pageLayout:s,automatedFeeds:i,cruzidList:o,strFacultyTypes:u,strStaffTypes:c,strGradTypes:m,manualAdd:p,addCruzids:b,excludeCruzids:y,displayDeptartmentAffiliates:E,linkToProfile:f,linkOutToCampusDirectory:h,strInformationTypes:v,strInformationTypesTable:g,department:S,division:C,deptOrDiv:T}=r,[k,D]=(0,e.useState)(!0),[A,O]=(0,e.useState)({});return(0,e.useEffect)((()=>{fetch("/wp-json/ucscgutenbergblocks/v1/campusdirectoryrequirements").then((e=>e.text())).then((e=>{const t=JSON.parse(e);t.ldap_pass||D(!1),O(t)}))}),[]),(0,e.createElement)(e.Fragment,null,k&&(0,e.createElement)(t.Panel,{className:"directory-block",header:"Directory Block"},(0,e.createElement)(t.PanelBody,{title:"Layout Type",initialOpen:!0},(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(n,{setAttributes:l,pageLayout:s}))),(0,e.createElement)(t.PanelBody,{title:"People and Information to Display",initialOpen:!0},(0,e.createElement)(t.PanelRow,null,(0,e.createElement)(d,{setAttributes:l,automatedFeeds:i,cruzidList:o,strFacultyTypes:u,strStaffTypes:c,strGradTypes:m,manualAdd:p,addCruzids:b,excludeCruzids:y,displayDeptartmentAffiliates:E,linkToProfile:f,linkOutToCampusDirectory:h,strInformationTypes:v,strInformationTypesTable:g,pageLayout:s,division:C,department:S,deptOrDiv:T})))),!k&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h2",null,"This Block is not Configured Correctly"),!A.ldap_pass&&A.multisite&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h4",null,"The LDAP password can be set at the network level"," ",(0,e.createElement)("a",{target:"_blank",href:"/wp-admin/network/settings.php?page=ucsc-gutenberg-blocks-network-settings"},"here.")),(0,e.createElement)("h6",null,"Or the LDAP password can be set at the site level below.")),!A.ldap_pass&&(0,e.createElement)("h4",null,"The LDAP password needs to be set here"," ",(0,e.createElement)("a",{target:"_blank",href:"/wp-admin/options-general.php?page=ucsc_gutenberg_blocks_settings_page"},"here."))))},save:e=>null}),wp.blocks.registerBlockType("ucscblocks/classschedule",{title:"Class Schedule",icon:"schedule",category:"common",attributes:{subjectOrDept:{type:"string"},department:{type:"string"},subject:{type:"string"}},edit:r=>{let{setAttributes:s,attributes:n}=r;const{department:i,subject:o,subjectOrDept:u}=n;let c,d;return void 0===u?([c,d]=(0,e.useState)("dept"),s({subjectOrDept:"dept"})):[c,d]=(0,e.useState)(u),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t.Panel,{header:"Class Schedule Block"},(0,e.createElement)(t.PanelBody,{title:"Set Department or Subject",initialOpen:!0},(0,e.createElement)("div",{className:"vertical_radio"},(0,e.createElement)(t.RadioControl,{selected:c,onChange:e=>{d(e),s({subjectOrDept:e})},options:[{label:"Department",value:"dept"},{label:"Subject",value:"subject"}]})),(0,e.createElement)("hr",null),(0,e.createElement)(a,{label:"Departments",department:i,setAttributes:s,disabled:"dept"!==u}),(0,e.createElement)(l,{label:"Subjects",subject:o,setAttributes:s,disabled:"subject"!==u}))))},save:e=>null})}();